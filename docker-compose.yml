version: '3.9'
services:
  oliverbooth:
    container_name: oliverbooth.dev
    pull_policy: build
    build:
      context: .
      dockerfile: OliverBooth/Dockerfile
    volumes:
      - type: bind
        source: /var/log/oliverbooth/site
        target: /app/logs
      - type: bind
        source: /etc/oliverbooth/site
        target: /app/data
    ports:
      - "2845:2845"
    restart: always

  oliverbooth-blog:
    container_name: blog.oliverbooth.dev
    pull_policy: build
    build:
      context: .
      dockerfile: OliverBooth/Dockerfile
    volumes:
      - type: bind
        source: /var/log/oliverbooth/blog
        target: /app/logs
      - type: bind
        source: /etc/oliverbooth/blog
        target: /app/data
    ports:
      - "2846:2846"
    restart: always
